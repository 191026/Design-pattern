### **理论四：哪些代码设计看似是面向对象，实际是面向过程的?**

- **滥用 getter、setter方法**

  ```php
  /**
  1.定义两个私有变量，但设置共有方法去赋值。和定义公共变量无异
  2.而面向对象封装的定义是:通过访问权限控制，隐藏内部数据，外部仅能通过类提供的有限 的接口访问、修改内部数据。所以，暴露不应该暴露的 setter 方法，明显违反了面向对象 的封装特性。数据没有访问权限控制，任何代码都可以随意修改它，代码就退化成了面向过 程编程风格的了。
  **/
  class shoppingCart{
    private itemsCount;
    private totalPrice;
    
    public function getItemsCount(){
      return $this->itemsCount
    }
    
    public function setItemsCount(i){
      $this->itemsCount += i;
      return true;
    }
  }
  
  $result = new shoppingCart();
  $result->setItemsCount(9);
  echo $result->getItemsCount();
  ```

  在设计实现类的时候，除非真的需要，否则尽量不要给属性定义 setter 方法。除此之外， 尽管 getter 方法相对 setter 方法要安全些，但是如果返回的是集合容器，那也要防范集合 内部数据被修改的风险。

- **滥用全局变量和全局方法（Constants 类、Utils 类的设计问题）**

  对于这两种类的设计，我们尽量能做到职责单一，定义一些细化的小类，比如 RedisConstants、FileUtils，而不是定义一个大而全的 Constants 类、Utils 类。除此之 外，如果能将这些类中的属性和方法，划分归并到其他业务类中，那是最好不过的了，能极 大地提高类的内聚性和代码的可复用性。

- **定义数据和方法分离的类**

  

 - **在面向对象编程中，为什么容易写出面向过程风格的代码?**

    - 符合人类思维习惯。按部就班一步一步去实现。
    - 面向对象要比面向过程难，得有一定的经验才能设计出好的代码。

- **面向过程编程及面向过程编程语言就真的无用武之地了吗?**

  不管使用面向过程还是面向对象哪种风格来写代码，我们最终的目的还是写出易维护、易 读、易复用、易扩展的高质量代码。只要我们能避免面向过程编程风格的一些弊端，控制好 它的副作用，在掌控范围内为我们所用，我们就大可不用避讳在面向对象编程中写面向过程 风格的代码。

